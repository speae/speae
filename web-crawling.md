### ðŸ¤”

web-crawling 1ë¶€
=====================================================================================================================================

ì§ìž¥ì¸ì„ ìœ„í•œ ë°ì´í„°ë¶„ì„ ì‹¤ë¬´ [07. ì–´ë–¤ ë¬´ì„ ì²­ì†Œê¸°ê°€ ì¸ê¸°ê°€ ì¢‹ì„ê¹Œ?]ì— ëŒ€í•œ ê³ ì°°â‘  
-------------------------------------------------------------------------------------

  'ì§ìž¥ì¸ì„ ìœ„í•œ ë°ì´í„°ë¶„ì„ ì‹¤ë¬´'ëŠ” ë¶„ëª… ì›¹ í¬ë¡¤ë§ì— ìž…ë¬¸í•˜ëŠ” ì‚¬ëžŒë“¤ì—ê²Œ ì¢‹ì€ ì±…ìž„ì€ í™•ì‹¤í•˜ë‹¤. ë‹¨ í•˜ë‚˜, ì•„ì‰¬ìš´ ì ì€ ê±°ìŠ¬ë¦¬ëŠ” ì˜¤íƒ€ì™€ ì„¤ëª…ì´ í•„ìš”í•œ ë¶€ë¶„ë“¤ì€ ìƒëžµëë‹¤ëŠ” ì ì´ë‹¤.
 ì´ë¥¼í…Œë©´, 
 
 ```python
  
  from selenium import webdriver
  browser = webdriver.Chrome('C:/playwithdata/chromedriver.exe')
  url = "http://search.danawa.com/dsearch.php?query=ë¬´ì„ ì²­ì†Œê¸°&tab=main"  
  driver.get(url)

```

ìœ„ ì½”ë“œì²˜ëŸ¼ browserì™€ driver ê°ê¸° ë‹¤ë¥¸ ë³€ìˆ˜ëª…ì„ ì‚¬ìš©í•˜ì—¬ ë…ìžë“¤ì— í˜¼ëž€ì„ ì£¼ê³  ìžˆë‹¤ëŠ” ê²ƒì´ë‹¤. ìœ„ì˜ ì˜ˆì‹œë¥¼ ë‹¨ìˆœ ì˜¤íƒ€ë¡œ ë´ì•¼ í• ì§€ ë‹¤ë¥¸ ìƒê°ì´ ìžˆì–´ì„œ ë‹¤ë¥¸ ê°ì²´ë¥¼ ì‚¬ìš©í–ˆëŠ”ë° ê·¸ì— ëŒ€í•œ ì„¤ëª…ì´ ë¶€ì¡±í–ˆë‹¤ê³  ë´ì•¼ í• ì§€ íŒë‹¨í•  ìˆ˜ ì—†ì—ˆì§€ë§Œ, í•„ìžëŠ” ì•„ë¬´ë¦¬ ìƒê°í•´ë´ë„ êµ³ì´ ë‹¤ë¥¸ ê°ì²´ë¥¼ ì“¸ ì´ìœ ê°€ ì—†ë‹¤ê³  íŒë‹¨í•˜ê³  ì˜¤íƒ€ì˜ ì˜ˆì‹œë¡œ ë“¤ì—ˆë‹¤.

 ì„¤ëª…ì´ ë¶€ì¡±í•œ ë¶€ë¶„ì€ ë¬´ì—‡ì¼ê¹Œ..
 
to_excel(), read_excel()ê³¼ ê°™ì€ ì—‘ì…€ê´€ë ¨ ë©”ì†Œë“œë“¤ì€ pandas íŒ¨í‚¤ì§€ë¿ ì•„ë‹ˆë¼ ì˜ì¡´ì„± íŒ¨í‚¤ì§€ì¸ openpyxl íŒ¨í‚¤ì§€ë¥¼ ìš”êµ¬í•œë‹¤. ì¦‰ ì´ ë©”ì†Œë“œë“¤ì„ ì‚¬ìš©í•˜ë ¤ë©´ openpyxlë¥¼ ë³„ë„ë¡œ ì„¤ì¹˜í•´ì£¼ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ê·¸ëŸ°ë° ì´ ì±…ì—ì„œëŠ” pandasì˜ to_excel(), read_excel() í•¨ìˆ˜ë¥¼ í†µí•´ ì—‘ì…€ íŒŒì¼ë¡œ ì €ìž¥í•˜ê³  ì½ëŠ”ë‹¤ê³  ì„¤ëª…í•˜ê³  ìžˆë‹¤. openpyxl íŒ¨í‚¤ì§€ ì„¤ì¹˜ì— ëŒ€í•œ ì„¤ëª…ì´ ì—†ëŠ” íƒ“ì— ì¤‘ê°„ ê³¼ì •ì—†ì´ ì •ë³´ë¥¼ ì „ë‹¬í•œ ê²ƒì´ë‹¤. ìš°ë¦¬ëŠ” openpyxl íŒ¨í‚¤ì§€ë¥¼ ì¶”ê°€ë¡œ ì„¤ì¹˜í•¨ìœ¼ë¡œì¨, pandas ìžì²´ë‚˜ pandasì˜ ë°ì´í„°í”„ë ˆìž„ì„ ê°€ì§€ê³  openpyxl ë‚´ë¶€ì˜ í´ëž˜ìŠ¤ë¥¼ í†µí•´ ì—‘ì…€ íŒŒì¼ì„ ë§Œë“¤ì–´ ì €ìž¥í•˜ê±°ë‚˜ ì½ëŠ”ë‹¤ëŠ” ê²ƒì„ ì¶”ì¸¡í•  ìˆ˜ ìžˆë‹¤.  

 ê·¸ë¦¬ê³  ë°ì´í„° ë¶„í¬ ê·¸ëž˜í”„ ì„¤ëª… ë¶€ë¶„ì—ì„œ mean()ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í‰ê· ê°’ì„ ê°€ì ¸ì™€ ê¸°ì¤€ì„ ìœ¼ë¡œ ê·¸ë¦°ë‹¤ê³  í–ˆëŠ”ë°, ì½”ë“œ ì„¤ëª…ì—ëŠ” ìµœì†Œê°’ ì •ë¦¬, ìµœì†Œê°’ì´ë¼ê³ ë§Œ ë‚˜ì™€ì„œ í˜¼ëž€ì´ ìƒê¸¸ ìˆ˜ ìžˆë‹¤. ì—„ì—°ížˆ ìµœì†Œê°’ì€ ë”°ë¡œ ìžˆê³  ì–´ë””ê¹Œì§€ë‚˜ í‰ê· ì„ ê¸°ì¤€ìœ¼ë¡œ ì‚¼ê² ë‹¤ëŠ” ê²ƒì„ ë°”ë¡œ 'ìµœì†Œê°’ êµ¬í•˜ê¸°'ë¼ê³  í•˜ë©´ ì˜ì•„í•˜ë‹¤ëŠ” ìƒê°ì´ ë“¤ ìˆ˜ ìžˆë‹¤. 
 xì¶• ê¸°ì¤€ì„ ì˜ yì ˆíŽ¸ì— ë˜‘ê°™ì€ ê°’ì„ ë„£ê³  ë°˜ëŒ€íŽ¸ë„ ë˜‘ê°™ì´ í•´ì„œ ì¦ê°€ëŸ‰ = 0 = ê¸°ìš¸ê¸° -> ê¸°ì¤€ì„ ìœ¼ë¡œ ë§Œë“¤ì—ˆë‹¤ëŠ” ì„¤ëª…ê¹Œì§„ êµ³ì´ ì•ˆ ë„£ì–´ë„ ë˜ì§€ë§Œ, ë°”ë¡œ í‰ê· ê°’ì„ êµ¬í•˜ëŠ” ì½”ë“œì— ìµœì†Œê°’ êµ¬í•˜ê¸°ë¼ê³  í•˜ë©´ ë„ˆë¬´ ì„¤ëª…ì„ ì¶•ì†Œí•˜ê³  ìž˜ëª»ëœ ì •ë³´ë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì²˜ëŸ¼ ëŠê»´ì§„ë‹¤.  

ì§ìž¥ì¸ì„ ìœ„í•œ ë°ì´í„°ë¶„ì„ ì‹¤ë¬´ [07. ì–´ë–¤ ë¬´ì„ ì²­ì†Œê¸°ê°€ ì¸ê¸°ê°€ ì¢‹ì„ê¹Œ?]ì— ëŒ€í•œ ê³ ì°°â‘¡
-------------------------------------------------------------------------------------

  ì½”ë“œ ì‹¤í–‰ ë¶€ë¶„ì„ ë³´ë©´ ì•„ì‰¬ìš´ ì ì´ ìžˆë‹¤. ë°˜ë³µë¬¸ìœ¼ë¡œ ê²€ìƒ‰ ê²°ê³¼ì˜ 1íŽ˜ì´ì§€ì— ëŒ€í•œ ìƒí’ˆ ì •ë³´ë¥¼ ì¶”ì¶œ ì‹œ ê° ì…€ ë³„ ë°ì´í„°ë§ˆë‹¤ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í–ˆë‹¤ëŠ” ì ì´ë‹¤. 
  
  ```python
  def get_prod_items(prod_items): 
    prod_data = []
    for prod_item in prod_items: 
    # â‘  ìƒí’ˆëª… ê°€ì ¸ì˜¤ê¸° 
    try: 
      title = prod_item.select('p.prod_name > a')[0].text.strip() 
    except: 
      title = ''
    # â‘¡ ìŠ¤íŽ™ ëª©ë¡ ê°€ì ¸ì˜¤ê¸° 
    try: 
      spec_list = prod_item.select('div.spec_list')[0] text.strip() 
    except: 
      spec_list = '' 
    # â‘¢ ê°€ê²© ì •ë³´ ê°€ì ¸ì˜¤ê¸° 
    try: 
      price = prod_item.select('li.rank_one > p.price_sect > a > strong')[0].text.strip().replace(",", "") 
    except: 
      price = 0 
      prod_data.append([title , spec_list, price]) 
  return prod_data

```
  
![prod_item_1](https://user-images.githubusercontent.com/43712685/130160921-5961a5ab-a664-4ff8-99e6-dd66115201d4.png)

